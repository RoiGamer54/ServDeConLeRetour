{"ast":null,"code":"import { Pie } from 'vue-chartjs';\nimport { Chart as ChartJS, Title, Tooltip, Legend, ArcElement, CategoryScale } from 'chart.js';\nimport { defineComponent, computed } from 'vue';\n\n// Register Chart.js components\nChartJS.register(Title, Tooltip, Legend, ArcElement, CategoryScale);\nexport default defineComponent({\n  name: 'DiskPieChart',\n  props: {\n    diskUsage: {\n      type: Object,\n      required: true\n    }\n  },\n  components: {\n    PieChart: Pie\n  },\n  setup(props) {\n    // Prepare the data for the chart\n    const chartData = computed(() => {\n      // Check if diskUsage is defined and has data\n      if (!props.diskUsage || Object.keys(props.diskUsage).length === 0) {\n        console.warn('Disk usage data is empty or undefined');\n        return {\n          labels: [],\n          datasets: []\n        }; // Return empty data if not valid\n      }\n      const labels = Object.keys(props.diskUsage);\n      const usedSpace = Object.values(props.diskUsage).map(disk => {\n        if (disk.used === undefined) {\n          console.warn('Used space data is undefined for a disk', disk);\n          return 0; // Default value if used space is not defined\n        }\n        return disk.used;\n      });\n      const freeSpace = Object.values(props.diskUsage).map(disk => {\n        if (disk.free === undefined) {\n          console.warn('Free space data is undefined for a disk', disk);\n          return 0; // Default value if free space is not defined\n        }\n        return disk.free;\n      });\n      return {\n        labels: labels,\n        datasets: [{\n          label: 'Utilisé (Go)',\n          backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#8BC34A'],\n          data: usedSpace\n        }, {\n          label: 'Libre (Go)',\n          backgroundColor: ['#FFCDD2', '#BBDEFB', '#FFF59D', '#DCEDC8'],\n          data: freeSpace\n        }]\n      };\n    });\n    return {\n      chartData\n    };\n  }\n});","map":{"version":3,"names":["Pie","Chart","ChartJS","Title","Tooltip","Legend","ArcElement","CategoryScale","defineComponent","computed","register","name","props","diskUsage","type","Object","required","components","PieChart","setup","chartData","keys","length","console","warn","labels","datasets","usedSpace","values","map","disk","used","undefined","freeSpace","free","label","backgroundColor","data"],"sources":["C:\\Users\\GUERBER\\Desktop\\SERVDECON\\PROJET\\FRONTEND\\frontend-vvcraft2\\src\\components\\Serveurs\\DiskPieChart.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h3>Utilisation des Disques</h3>\r\n    <PieChart :chartData=\"chartData\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Pie } from 'vue-chartjs';\r\nimport { Chart as ChartJS, Title, Tooltip, Legend, ArcElement, CategoryScale } from 'chart.js';\r\nimport { defineComponent, computed } from 'vue';\r\n\r\n// Register Chart.js components\r\nChartJS.register(Title, Tooltip, Legend, ArcElement, CategoryScale);\r\n\r\nexport default defineComponent({\r\n  name: 'DiskPieChart',\r\n  props: {\r\n    diskUsage: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  components: {\r\n    PieChart: Pie\r\n  },\r\n  setup(props) {\r\n    // Prepare the data for the chart\r\n    const chartData = computed(() => {\r\n      // Check if diskUsage is defined and has data\r\n      if (!props.diskUsage || Object.keys(props.diskUsage).length === 0) {\r\n        console.warn('Disk usage data is empty or undefined');\r\n        return { labels: [], datasets: [] }; // Return empty data if not valid\r\n      }\r\n\r\n      const labels = Object.keys(props.diskUsage);\r\n      const usedSpace = Object.values(props.diskUsage).map(disk => {\r\n        if (disk.used === undefined) {\r\n          console.warn('Used space data is undefined for a disk', disk);\r\n          return 0; // Default value if used space is not defined\r\n        }\r\n        return disk.used;\r\n      });\r\n\r\n      const freeSpace = Object.values(props.diskUsage).map(disk => {\r\n        if (disk.free === undefined) {\r\n          console.warn('Free space data is undefined for a disk', disk);\r\n          return 0; // Default value if free space is not defined\r\n        }\r\n        return disk.free;\r\n      });\r\n\r\n      return {\r\n        labels: labels,\r\n        datasets: [\r\n          {\r\n            label: 'Utilisé (Go)',\r\n            backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#8BC34A'],\r\n            data: usedSpace\r\n          },\r\n          {\r\n            label: 'Libre (Go)',\r\n            backgroundColor: ['#FFCDD2', '#BBDEFB', '#FFF59D', '#DCEDC8'],\r\n            data: freeSpace\r\n          }\r\n        ]\r\n      };\r\n    });\r\n\r\n    return {\r\n      chartData\r\n    };\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\ncanvas {\r\n  max-width: 500px;\r\n  margin: auto;\r\n}\r\n</style>\r\n"],"mappings":"AAQA,SAASA,GAAE,QAAS,aAAa;AACjC,SAASC,KAAI,IAAKC,OAAO,EAAEC,KAAK,EAAEC,OAAO,EAAEC,MAAM,EAAEC,UAAU,EAAEC,aAAY,QAAS,UAAU;AAC9F,SAASC,eAAe,EAAEC,QAAO,QAAS,KAAK;;AAE/C;AACAP,OAAO,CAACQ,QAAQ,CAACP,KAAK,EAAEC,OAAO,EAAEC,MAAM,EAAEC,UAAU,EAAEC,aAAa,CAAC;AAEnE,eAAeC,eAAe,CAAC;EAC7BG,IAAI,EAAE,cAAc;EACpBC,KAAK,EAAE;IACLC,SAAS,EAAE;MACTC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,UAAU,EAAE;IACVC,QAAQ,EAAElB;EACZ,CAAC;EACDmB,KAAKA,CAACP,KAAK,EAAE;IACX;IACA,MAAMQ,SAAQ,GAAIX,QAAQ,CAAC,MAAM;MAC/B;MACA,IAAI,CAACG,KAAK,CAACC,SAAQ,IAAKE,MAAM,CAACM,IAAI,CAACT,KAAK,CAACC,SAAS,CAAC,CAACS,MAAK,KAAM,CAAC,EAAE;QACjEC,OAAO,CAACC,IAAI,CAAC,uCAAuC,CAAC;QACrD,OAAO;UAAEC,MAAM,EAAE,EAAE;UAAEC,QAAQ,EAAE;QAAG,CAAC,EAAE;MACvC;MAEA,MAAMD,MAAK,GAAIV,MAAM,CAACM,IAAI,CAACT,KAAK,CAACC,SAAS,CAAC;MAC3C,MAAMc,SAAQ,GAAIZ,MAAM,CAACa,MAAM,CAAChB,KAAK,CAACC,SAAS,CAAC,CAACgB,GAAG,CAACC,IAAG,IAAK;QAC3D,IAAIA,IAAI,CAACC,IAAG,KAAMC,SAAS,EAAE;UAC3BT,OAAO,CAACC,IAAI,CAAC,yCAAyC,EAAEM,IAAI,CAAC;UAC7D,OAAO,CAAC,EAAE;QACZ;QACA,OAAOA,IAAI,CAACC,IAAI;MAClB,CAAC,CAAC;MAEF,MAAME,SAAQ,GAAIlB,MAAM,CAACa,MAAM,CAAChB,KAAK,CAACC,SAAS,CAAC,CAACgB,GAAG,CAACC,IAAG,IAAK;QAC3D,IAAIA,IAAI,CAACI,IAAG,KAAMF,SAAS,EAAE;UAC3BT,OAAO,CAACC,IAAI,CAAC,yCAAyC,EAAEM,IAAI,CAAC;UAC7D,OAAO,CAAC,EAAE;QACZ;QACA,OAAOA,IAAI,CAACI,IAAI;MAClB,CAAC,CAAC;MAEF,OAAO;QACLT,MAAM,EAAEA,MAAM;QACdC,QAAQ,EAAE,CACR;UACES,KAAK,EAAE,cAAc;UACrBC,eAAe,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;UAC7DC,IAAI,EAAEV;QACR,CAAC,EACD;UACEQ,KAAK,EAAE,YAAY;UACnBC,eAAe,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;UAC7DC,IAAI,EAAEJ;QACR;MAEJ,CAAC;IACH,CAAC,CAAC;IAEF,OAAO;MACLb;IACF,CAAC;EACH;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}