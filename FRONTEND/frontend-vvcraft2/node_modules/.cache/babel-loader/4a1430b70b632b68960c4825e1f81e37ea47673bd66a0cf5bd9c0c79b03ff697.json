{"ast":null,"code":"import { Pie } from 'vue-chartjs';\nimport { Chart as ChartJS, Title, Tooltip, Legend, ArcElement } from 'chart.js';\nimport { defineComponent, computed } from 'vue';\n\n// Enregistrement des composants Chart.js\nChartJS.register(Title, Tooltip, Legend, ArcElement);\nexport default defineComponent({\n  name: 'DiskPieChart',\n  props: {\n    diskUsage: {\n      type: Object,\n      required: true\n    }\n  },\n  components: {\n    PieChart: Pie\n  },\n  setup(props) {\n    // Préparation des données pour le graphique\n    const chartData = computed(() => {\n      // Vérifiez si diskUsage est défini et contient des données\n      if (!props.diskUsage || Object.keys(props.diskUsage).length === 0) {\n        console.warn('Disk usage data is empty or undefined');\n        return {\n          labels: [],\n          datasets: []\n        }; // Retourner des données vides si non valide\n      }\n      const usedSpace = Object.values(props.diskUsage).map(disk => disk.used || 0);\n      const freeSpace = Object.values(props.diskUsage).map(disk => disk.free || 0);\n\n      // Vérifiez si nous avons des données valides\n      if (usedSpace.length === 0 && freeSpace.length === 0) {\n        console.warn('No valid space data available for the chart.');\n        return {\n          labels: [],\n          datasets: []\n        }; // Retourner des données vides\n      }\n      return {\n        labels: ['Utilisé', 'Libre'],\n        // Utiliser des labels fixes\n        datasets: [{\n          label: 'Utilisation des Disques (Go)',\n          backgroundColor: ['#FF6384', '#36A2EB'],\n          // Couleurs\n          data: [usedSpace.reduce((acc, val) => acc + val, 0), freeSpace.reduce((acc, val) => acc + val, 0)]\n        }]\n      };\n    });\n    return {\n      chartData\n    };\n  }\n});","map":{"version":3,"names":["Pie","Chart","ChartJS","Title","Tooltip","Legend","ArcElement","defineComponent","computed","register","name","props","diskUsage","type","Object","required","components","PieChart","setup","chartData","keys","length","console","warn","labels","datasets","usedSpace","values","map","disk","used","freeSpace","free","label","backgroundColor","data","reduce","acc","val"],"sources":["C:\\Users\\GUERBER\\Desktop\\SERVDECON\\PROJET\\FRONTEND\\frontend-vvcraft2\\src\\components\\Serveurs\\DiskPieChart.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h3>Utilisation des Disques</h3>\r\n    <PieChart :chartData=\"chartData\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Pie } from 'vue-chartjs';\r\nimport { Chart as ChartJS, Title, Tooltip, Legend, ArcElement } from 'chart.js';\r\nimport { defineComponent, computed } from 'vue';\r\n\r\n// Enregistrement des composants Chart.js\r\nChartJS.register(Title, Tooltip, Legend, ArcElement);\r\n\r\nexport default defineComponent({\r\n  name: 'DiskPieChart',\r\n  props: {\r\n    diskUsage: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  components: {\r\n    PieChart: Pie\r\n  },\r\n  setup(props) {\r\n    // Préparation des données pour le graphique\r\n    const chartData = computed(() => {\r\n      // Vérifiez si diskUsage est défini et contient des données\r\n      if (!props.diskUsage || Object.keys(props.diskUsage).length === 0) {\r\n        console.warn('Disk usage data is empty or undefined');\r\n        return { labels: [], datasets: [] }; // Retourner des données vides si non valide\r\n      }\r\n\r\n      const usedSpace = Object.values(props.diskUsage).map(disk => disk.used || 0);\r\n      const freeSpace = Object.values(props.diskUsage).map(disk => disk.free || 0);\r\n      \r\n      // Vérifiez si nous avons des données valides\r\n      if (usedSpace.length === 0 && freeSpace.length === 0) {\r\n        console.warn('No valid space data available for the chart.');\r\n        return { labels: [], datasets: [] }; // Retourner des données vides\r\n      }\r\n\r\n      return {\r\n        labels: ['Utilisé', 'Libre'], // Utiliser des labels fixes\r\n        datasets: [\r\n          {\r\n            label: 'Utilisation des Disques (Go)',\r\n            backgroundColor: ['#FF6384', '#36A2EB'], // Couleurs\r\n            data: [usedSpace.reduce((acc, val) => acc + val, 0), freeSpace.reduce((acc, val) => acc + val, 0)]\r\n          }\r\n        ]\r\n      };\r\n    });\r\n\r\n    return {\r\n      chartData\r\n    };\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\ncanvas {\r\n  max-width: 500px;\r\n  margin: auto;\r\n}\r\n</style>\r\n"],"mappings":"AAQA,SAASA,GAAE,QAAS,aAAa;AACjC,SAASC,KAAI,IAAKC,OAAO,EAAEC,KAAK,EAAEC,OAAO,EAAEC,MAAM,EAAEC,UAAS,QAAS,UAAU;AAC/E,SAASC,eAAe,EAAEC,QAAO,QAAS,KAAK;;AAE/C;AACAN,OAAO,CAACO,QAAQ,CAACN,KAAK,EAAEC,OAAO,EAAEC,MAAM,EAAEC,UAAU,CAAC;AAEpD,eAAeC,eAAe,CAAC;EAC7BG,IAAI,EAAE,cAAc;EACpBC,KAAK,EAAE;IACLC,SAAS,EAAE;MACTC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,UAAU,EAAE;IACVC,QAAQ,EAAEjB;EACZ,CAAC;EACDkB,KAAKA,CAACP,KAAK,EAAE;IACX;IACA,MAAMQ,SAAQ,GAAIX,QAAQ,CAAC,MAAM;MAC/B;MACA,IAAI,CAACG,KAAK,CAACC,SAAQ,IAAKE,MAAM,CAACM,IAAI,CAACT,KAAK,CAACC,SAAS,CAAC,CAACS,MAAK,KAAM,CAAC,EAAE;QACjEC,OAAO,CAACC,IAAI,CAAC,uCAAuC,CAAC;QACrD,OAAO;UAAEC,MAAM,EAAE,EAAE;UAAEC,QAAQ,EAAE;QAAG,CAAC,EAAE;MACvC;MAEA,MAAMC,SAAQ,GAAIZ,MAAM,CAACa,MAAM,CAAChB,KAAK,CAACC,SAAS,CAAC,CAACgB,GAAG,CAACC,IAAG,IAAKA,IAAI,CAACC,IAAG,IAAK,CAAC,CAAC;MAC5E,MAAMC,SAAQ,GAAIjB,MAAM,CAACa,MAAM,CAAChB,KAAK,CAACC,SAAS,CAAC,CAACgB,GAAG,CAACC,IAAG,IAAKA,IAAI,CAACG,IAAG,IAAK,CAAC,CAAC;;MAE5E;MACA,IAAIN,SAAS,CAACL,MAAK,KAAM,KAAKU,SAAS,CAACV,MAAK,KAAM,CAAC,EAAE;QACpDC,OAAO,CAACC,IAAI,CAAC,8CAA8C,CAAC;QAC5D,OAAO;UAAEC,MAAM,EAAE,EAAE;UAAEC,QAAQ,EAAE;QAAG,CAAC,EAAE;MACvC;MAEA,OAAO;QACLD,MAAM,EAAE,CAAC,SAAS,EAAE,OAAO,CAAC;QAAE;QAC9BC,QAAQ,EAAE,CACR;UACEQ,KAAK,EAAE,8BAA8B;UACrCC,eAAe,EAAE,CAAC,SAAS,EAAE,SAAS,CAAC;UAAE;UACzCC,IAAI,EAAE,CAACT,SAAS,CAACU,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAKD,GAAE,GAAIC,GAAG,EAAE,CAAC,CAAC,EAAEP,SAAS,CAACK,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAKD,GAAE,GAAIC,GAAG,EAAE,CAAC,CAAC;QACnG;MAEJ,CAAC;IACH,CAAC,CAAC;IAEF,OAAO;MACLnB;IACF,CAAC;EACH;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}